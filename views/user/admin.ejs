<%- include('../partials/header1.ejs') %>

    <link rel="stylesheet" href="/stylesheets/admin.css">


    <div class="album py-5">
        <div class="container">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-3">
                <% User.forEach(function(user){ %>
                    <div class="col">
                            <div class="card " style="width: 16rem;">
                                <img src="<%= user.image %>" class="card-img-top" style="height: 200px;">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="far fa-address-card"></i>&nbsp; <%= user.firstname %> <%= user.lastname %></h5>
                                    <p class="card-text">
                                        Username: <%= user.username %>
                                        <h5 class="mt-3" style="color: green">Status :  USER</h5>
                                        <!-- <% if ( user.status === 'admin' ) { %>
                                            <h5 class="mt-3" style="color: green;">Status : ADMIN</h5>
                                        <% } else if (user.status === 'boss') { %>
                                            <h5 class="mt-3" style="color: rgb(207, 87, 87)">Status : BOSS</h5>
                                        <% } else { %>
                                            <h5 class="mt-3" style="color: rgb(207, 87, 87)">Status :  USER</h5>
                                        <% } %>     -->
                                    </p>

                                    <form action="/user/admin/grant/<%= user._id %>" method="POST">

                                        <!-- Button trigger modal -->
                                        <button type="submit" class="btn btn-outline-success" style="width: 200px; margin-bottom: 10px;">
                                            Choose as an admin
                                        </button>


                                        <!-- Modal -->
                                        <!-- <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="staticBackdropLabel">MAKE ADMIN</h5>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        Are you sure?
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                                        <button type="submit" class="btn btn-primary">Save</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div> -->

                                    </form>
            
                                    <form action="/user/admin/delete/<%= user._id %>" method="POST">
            
                                        <!-- Button trigger modal -->
                                        <button type="submit" class="btn btn-outline-danger" style="width: 200px"
                                            data-bs-toggle="modal" data-bs-target="#exampleModal2">
                                            Delete Account
                                        </button>
            
                                        <!-- Modal -->
                                        <!-- <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2"
                                            aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="exampleModalLabel2">DELETE ACCOUNT</h5>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                            aria-label="Close"></button>
                                                    </div>
            
                                                    <div class="modal-body">
                                                        Are you sure?
                                                    </div>
            
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary"
                                                            data-bs-dismiss="modal">Close</button>
                                                        <button type="submit" class="btn btn-primary">Save changes</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div> -->
                                    </form>
                                </div>
                            </div>
                        </a>
                    </div>
                <% }); %>
            </div>
        </div>
    </div>

    <% if ( currentUser.status == 'boss' ) { %>
        <div class="album py-5">
            <div class="container">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-3">
                    <% Admin.forEach(function(user){ %>
                        <div class="col">
                                <div class="card " style="width: 16rem;">
                                    <img src="<%= user.image %>" class="card-img-top" style="height: 200px;">
                                    <div class="card-body">
                                        <h5 class="card-title"><i class="far fa-address-card"></i>&nbsp; <%= user.firstname %> <%= user.lastname %></h5>
                                        <p class="card-text">
                                            Username: <%= user.username %>
                                            <% if ( user.status === 'admin' ) { %>
                                                <h5 class="mt-3" style="color: rgb(207, 87, 87);">Status : ADMIN</h5>
                                            <% } else if (user.status === 'boss') { %>
                                                <h5 class="mt-3" style="color: rgb(207, 87, 87)">Status : BOSS</h5>
                                            <% } else { %>
                                                <h5 class="mt-3" style="color: green;">Status :  USER</h5>
                                            <% } %>    
                                        </p>

                                        <form action="/user/admin/retire/<%= user._id %>" method="POST">

                                            <!-- Button trigger modal -->
                                            <button type="submit" class="btn btn-outline-success" style="width: 200px; margin-bottom: 10px;">
                                                Depose admin
                                            </button>
                                        </form>
                
                                        <form action="/user/admin/delete/<%= user._id %>" method="POST">
                
                                            <!-- Button trigger modal -->
                                            <button type="submit" class="btn btn-outline-danger" style="width: 200px">
                                                Delete Account
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </a>
                        </div>
                    <% }); %>
                </div>
            </div>
        </div>
    <% } %>
    

<%- include('../partials/footer.ejs') %>